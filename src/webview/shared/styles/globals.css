@tailwind base;
@tailwind components;
@tailwind utilities;

/*
 * DocDocs Theme - Based on tweakcn with VS Code integration
 * Uses OKLCH color space for perceptually uniform colors
 */

@layer base {
  :root {
    /* Core colors - Light theme */
    --background: oklch(0.9894 0.0089 134.8716);
    --foreground: oklch(0.3950 0.0384 123.7188);

    /* Card/Panel surfaces */
    --card: oklch(0.9719 0.0146 132.4716);
    --card-foreground: oklch(0.3950 0.0384 123.7188);

    /* Popover/Dropdown */
    --popover: oklch(0.9719 0.0146 132.4716);
    --popover-foreground: oklch(0.3950 0.0384 123.7188);

    /* Primary action color */
    --primary: oklch(0.6942 0.1932 132.8512);
    --primary-foreground: oklch(1.0000 0 0);

    /* Secondary actions */
    --secondary: oklch(0.8654 0.1214 132.6442);
    --secondary-foreground: oklch(0.4494 0.0157 130.9797);

    /* Muted/subtle elements */
    --muted: oklch(0.9408 0.0344 134.5048);
    --muted-foreground: oklch(0.5647 0.0190 125.5169);

    /* Accent highlights */
    --accent: oklch(0.9240 0.0812 132.0696);
    --accent-foreground: oklch(0.4494 0.0157 130.9797);

    /* Destructive/Error */
    --destructive: oklch(0.6619 0.1367 109.6171);
    --destructive-foreground: oklch(1.0000 0 0);

    /* Borders and inputs */
    --border: oklch(0.8871 0.0619 137.0998);
    --input: oklch(0.8871 0.0619 137.0998);
    --ring: oklch(0.6942 0.1932 132.8512);

    /* Status colors */
    --success: oklch(0.7364 0.2343 139.6313);
    --success-foreground: oklch(1.0000 0 0);
    --warning: oklch(0.7980 0.1648 85.0000);
    --warning-foreground: oklch(0.3000 0.0500 85.0000);
    --error: oklch(0.6619 0.1367 25.0000);
    --error-foreground: oklch(1.0000 0 0);
    --info: oklch(0.6500 0.1500 250.0000);
    --info-foreground: oklch(1.0000 0 0);

    /* Chart colors */
    --chart-1: oklch(0.6942 0.1932 132.8512);
    --chart-2: oklch(0.5647 0.0190 125.5169);
    --chart-3: oklch(0.6282 0.1899 137.4691);
    --chart-4: oklch(0.5647 0.0190 125.5169);
    --chart-5: oklch(0.7364 0.2343 139.6313);

    /* Sidebar */
    --sidebar: oklch(0.9408 0.0344 134.5048);
    --sidebar-foreground: oklch(0.3950 0.0384 123.7188);
    --sidebar-primary: oklch(0.6942 0.1932 132.8512);
    --sidebar-primary-foreground: oklch(1.0000 0 0);
    --sidebar-accent: oklch(0.6282 0.1899 137.4691);
    --sidebar-accent-foreground: oklch(1.0000 0 0);
    --sidebar-border: oklch(0.8871 0.0619 137.0998);
    --sidebar-ring: oklch(0.6942 0.1932 132.8512);

    /* List/Selection */
    --list-active: oklch(0.6942 0.1932 132.8512 / 0.15);
    --list-active-foreground: oklch(0.3950 0.0384 123.7188);
    --list-hover: oklch(0.9240 0.0812 132.0696);
    --list-hover-foreground: oklch(0.3950 0.0384 123.7188);

    /* Badge */
    --badge: oklch(0.8654 0.1214 132.6442);
    --badge-foreground: oklch(0.4494 0.0157 130.9797);

    /* Typography */
    --font-sans: 'Oxanium', var(--vscode-font-family, system-ui, -apple-system, sans-serif);
    --font-serif: 'Merriweather', Georgia, serif;
    --font-mono: 'Fira Code', var(--vscode-editor-font-family, 'Consolas', monospace);

    /* Radius */
    --radius: 0.3rem;

    /* Shadows */
    --shadow-color: 86.0870 18.1102% 24.9020%;
    --shadow-2xs: 0px 2px 3px 0px hsl(var(--shadow-color) / 0.09);
    --shadow-xs: 0px 2px 3px 0px hsl(var(--shadow-color) / 0.09);
    --shadow-sm: 0px 2px 3px 0px hsl(var(--shadow-color) / 0.18), 0px 1px 2px -1px hsl(var(--shadow-color) / 0.18);
    --shadow: 0px 2px 3px 0px hsl(var(--shadow-color) / 0.18), 0px 1px 2px -1px hsl(var(--shadow-color) / 0.18);
    --shadow-md: 0px 2px 3px 0px hsl(var(--shadow-color) / 0.18), 0px 2px 4px -1px hsl(var(--shadow-color) / 0.18);
    --shadow-lg: 0px 2px 3px 0px hsl(var(--shadow-color) / 0.18), 0px 4px 6px -1px hsl(var(--shadow-color) / 0.18);
    --shadow-xl: 0px 2px 3px 0px hsl(var(--shadow-color) / 0.18), 0px 8px 10px -1px hsl(var(--shadow-color) / 0.18);
    --shadow-2xl: 0px 2px 3px 0px hsl(var(--shadow-color) / 0.45);

    /* Spacing */
    --spacing: 0.25rem;
  }

  /* Dark theme */
  .dark {
    --background: oklch(0.2224 0.0099 124.9959);
    --foreground: oklch(0.9691 0.0017 145.5620);

    --card: oklch(0.2781 0.0091 116.1769);
    --card-foreground: oklch(0.9691 0.0017 145.5620);

    --popover: oklch(0.2781 0.0091 116.1769);
    --popover-foreground: oklch(0.9691 0.0017 145.5620);

    --primary: oklch(0.8892 0.2421 131.7622);
    --primary-foreground: oklch(0.2000 0.0100 130.0000);

    --secondary: oklch(0.4494 0.0157 130.9797);
    --secondary-foreground: oklch(0.9264 0.0041 121.5646);

    --muted: oklch(0.2382 0.0120 129.0378);
    --muted-foreground: oklch(0.7254 0.0149 124.6404);

    --accent: oklch(0.3500 0.0600 132.0000);
    --accent-foreground: oklch(0.9264 0.0041 121.5646);

    --destructive: oklch(0.6500 0.1810 25.0000);
    --destructive-foreground: oklch(1.0000 0 0);

    --border: oklch(0.3802 0.0143 128.8871);
    --input: oklch(0.3802 0.0143 128.8871);
    --ring: oklch(0.8892 0.2421 131.7622);

    /* Status colors - dark mode */
    --success: oklch(0.8185 0.2665 140.8000);
    --success-foreground: oklch(0.2000 0.0500 140.0000);
    --warning: oklch(0.8500 0.1500 85.0000);
    --warning-foreground: oklch(0.2500 0.0500 85.0000);
    --error: oklch(0.7000 0.1500 25.0000);
    --error-foreground: oklch(1.0000 0 0);
    --info: oklch(0.7000 0.1500 250.0000);
    --info-foreground: oklch(1.0000 0 0);

    /* Chart colors - dark mode */
    --chart-1: oklch(0.8892 0.2421 131.7622);
    --chart-2: oklch(0.4654 0.2722 281.4093);
    --chart-3: oklch(0.8185 0.2665 140.8000);
    --chart-4: oklch(0.7254 0.0149 124.6404);
    --chart-5: oklch(0.5647 0.0190 125.5169);

    /* Sidebar - dark mode */
    --sidebar: oklch(0.2781 0.0091 116.1769);
    --sidebar-foreground: oklch(0.9691 0.0017 145.5620);
    --sidebar-primary: oklch(0.8892 0.2421 131.7622);
    --sidebar-primary-foreground: oklch(0.2000 0.0100 130.0000);
    --sidebar-accent: oklch(0.4654 0.2722 281.4093);
    --sidebar-accent-foreground: oklch(0.9500 0.0100 280.0000);
    --sidebar-border: oklch(0.3802 0.0143 128.8871);
    --sidebar-ring: oklch(0.8892 0.2421 131.7622);

    /* List/Selection - dark mode */
    --list-active: oklch(0.8892 0.2421 131.7622 / 0.2);
    --list-active-foreground: oklch(0.9691 0.0017 145.5620);
    --list-hover: oklch(0.3500 0.0150 128.0000);
    --list-hover-foreground: oklch(0.9691 0.0017 145.5620);

    /* Badge - dark mode */
    --badge: oklch(0.4494 0.0157 130.9797);
    --badge-foreground: oklch(0.9264 0.0041 121.5646);

    /* Shadows - dark mode */
    --shadow-color: 0 0% 10.1961%;
    --shadow-2xs: 0px 2px 3px 0px hsl(var(--shadow-color) / 0.09);
    --shadow-xs: 0px 2px 3px 0px hsl(var(--shadow-color) / 0.09);
    --shadow-sm: 0px 2px 3px 0px hsl(var(--shadow-color) / 0.18), 0px 1px 2px -1px hsl(var(--shadow-color) / 0.18);
    --shadow: 0px 2px 3px 0px hsl(var(--shadow-color) / 0.18), 0px 1px 2px -1px hsl(var(--shadow-color) / 0.18);
    --shadow-md: 0px 2px 3px 0px hsl(var(--shadow-color) / 0.18), 0px 2px 4px -1px hsl(var(--shadow-color) / 0.18);
    --shadow-lg: 0px 2px 3px 0px hsl(var(--shadow-color) / 0.18), 0px 4px 6px -1px hsl(var(--shadow-color) / 0.18);
    --shadow-xl: 0px 2px 3px 0px hsl(var(--shadow-color) / 0.18), 0px 8px 10px -1px hsl(var(--shadow-color) / 0.18);
    --shadow-2xl: 0px 2px 3px 0px hsl(var(--shadow-color) / 0.45);
  }

  /* VS Code theme detection - applies dark class automatically */
  @media (prefers-color-scheme: dark) {
    :root:not(.light) {
      @extend .dark;
    }
  }

  /* VS Code high contrast overrides */
  .high-contrast {
    --primary: oklch(0.95 0.25 131.0);
    --ring: oklch(0.95 0.25 131.0);
    --border: oklch(0.6 0.02 130.0);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: var(--font-sans);
    font-feature-settings: "rlig" 1, "calt" 1;
    line-height: 1.5;
    margin: 0;
    padding: 0;
  }

  /* Typography scale */
  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold tracking-tight;
  }

  h1 {
    @apply text-2xl;
  }

  h2 {
    @apply text-xl;
  }

  h3 {
    @apply text-lg;
  }

  /* Code/Mono text */
  code, pre, kbd {
    font-family: var(--font-mono);
  }

  /* Custom scrollbar - matches VS Code style */
  ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: oklch(0.5 0.02 130.0 / 0.4);
    border-radius: 5px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: oklch(0.5 0.02 130.0 / 0.6);
  }

  .dark ::-webkit-scrollbar-thumb {
    background: oklch(0.6 0.02 130.0 / 0.4);
  }

  .dark ::-webkit-scrollbar-thumb:hover {
    background: oklch(0.6 0.02 130.0 / 0.6);
  }

  /* Focus styles */
  :focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
  }

  /* Selection */
  ::selection {
    background: oklch(0.6942 0.1932 132.8512 / 0.3);
  }

  .dark ::selection {
    background: oklch(0.8892 0.2421 131.7622 / 0.3);
  }
}

@layer components {
  /* Glass effect for cards */
  .glass {
    background: oklch(from var(--card) l c h / 0.8);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }

  /* Gradient text */
  .gradient-text {
    background: linear-gradient(
      135deg,
      var(--primary) 0%,
      var(--chart-3) 100%
    );
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Glow effect for primary elements */
  .glow {
    box-shadow: 0 0 20px oklch(from var(--primary) l c h / 0.3);
  }

  .dark .glow {
    box-shadow: 0 0 20px oklch(from var(--primary) l c h / 0.4);
  }
}

@layer utilities {
  /* Animation utilities */
  .animate-fade-in {
    animation: fadeIn 0.2s ease-out;
  }

  .animate-fade-out {
    animation: fadeOut 0.2s ease-out;
  }

  .animate-slide-up {
    animation: slideUp 0.2s ease-out;
  }

  .animate-slide-down {
    animation: slideDown 0.2s ease-out;
  }

  .animate-slide-left {
    animation: slideLeft 0.2s ease-out;
  }

  .animate-slide-right {
    animation: slideRight 0.2s ease-out;
  }

  .animate-scale-in {
    animation: scaleIn 0.2s ease-out;
  }

  .animate-pulse-slow {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  .animate-spin-slow {
    animation: spin 3s linear infinite;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes fadeOut {
    from { opacity: 1; }
    to { opacity: 0; }
  }

  @keyframes slideUp {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes slideDown {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes slideLeft {
    from { opacity: 0; transform: translateX(10px); }
    to { opacity: 1; transform: translateX(0); }
  }

  @keyframes slideRight {
    from { opacity: 0; transform: translateX(-10px); }
    to { opacity: 1; transform: translateX(0); }
  }

  @keyframes scaleIn {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
  }

  /* Status indicator colors */
  .status-fresh {
    @apply text-success;
  }

  .status-stale {
    @apply text-warning;
  }

  .status-orphaned {
    @apply text-error;
  }

  .status-missing {
    @apply text-muted-foreground;
  }

  /* Truncation */
  .truncate-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .truncate-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* No scrollbar utility */
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
}
